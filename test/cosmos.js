const cosmosjs = require("@cosmostation/cosmosjs")

// [WARNING] This mnemonic is just for the demo purpose. DO NOT USE THIS MNEMONIC for your own wallet.
const mnemonic = "swear buyer security impulse public stereo peasant correct cross tornado bid discover anchor float venture deal patch property cool wreck eight dwarf december surface"
const chainId = "cosmoshub-2"
const cosmos = cosmosjs.network("https://lcd-do-not-abuse.cosmostation.io", chainId)
cosmos.setBech32MainPrefix("cosmos")
cosmos.setPath("m/44'/118'/0'/0/0")
const address = cosmos.getAddress(mnemonic)
const ecpairPriv = cosmos.getECPairPriv(mnemonic)
console.log(address)
console.log(ecpairPriv)
console.log(ecpairPriv.toString('hex'))

// Generate MsgSend transaction and broadcast 
cosmos.getAccounts(address).then(data => {
	let stdSignMsg = cosmos.NewStdMsg({
		type: "cosmos-sdk/MsgSend",
		from_address: address,
		to_address: "cosmos18vhdczjut44gpsy804crfhnd5nq003nz0nf20v",
		amountDenom: "uatom",
		amount: 100000,		// 6 decimal places
		feeDenom: "uatom",
		fee: 5000,
		gas: 200000,
		memo: "",
		account_number: data.value.account_number,
		sequence: data.value.sequence
	})

	const signedTx = cosmos.sign(stdSignMsg, ecpairPriv)
	cosmos.broadcast(signedTx).then(response => console.log(response))
})